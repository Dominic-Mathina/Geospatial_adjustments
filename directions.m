 P = [1 2 0; 1 11 3.92813; 1 12 26.65768; 1 3 28.14169; 1 7 29.46106; 1 4 42.51533; 1 5 79.96743; 1 6  125.68087; ...]
 1 8 272.63544; 1 9 350.12485; 1 10 379.70302; 2 1 0; 2 8 28.95076; 2 9 114.46143; 2 10 170.86868; 2 11 205.16361; ...
 2 12 233.14019; 2 7 236.9087; 2 3 239.0641; 2 4 252.268; 2 5 306.12031; 2 6 365.52605; 3 1 0; 3 8 7.24369; 3 2 10.92332;...
 3 9 35.65047; 3 10 71.45038; 3 11 119.97324; 3 12 195.22762; 3 7 204.68251; 3 4 243.91905; 3 5 347.23966; ...
 3 6 383.60808; 4 1 0; 4 8 3.71152; 4 2 9.7539; 4 9 24.10203; 4 3 29.5464; 4 10 45.87412; 4 11 66.81895; ...
 4 7 86.84505; 4 12 97.16398; 4 5 370.06912; 4 6 388.29153; 5 1 0; 5 6 380.49429; 5 4 132.61652; 5 3 95.41328; ...
 5 2 26.1527];
 Spd = P(:,1);
 Tpd = P(:,2);
 DR = P(:,3);
STW = [1; 2; 3; 4; 5; 6; 7; 8; 9; 10; 11; 12];
X = [100.103; 111.601; 122.181; 116.692; 87.661; 86.855; 129.551; 102.448; 126.676; 143.977; 145.687; 133.61];
Y = [100.011; 109.003; 144.013; 168.014; 134.199; 106.21; 161.867; 90.167; 96.814; 115.772; 140.429; 163.079];
Sp = [1; 1; 1; 2; 2; 3];
Tp = [2; 3; 4; 3; 4; 4];
DIST = [14.5967; 49.2302; 69.9973; 36.5734; 59.2302; 24.6209];

% matrix for distances 
       for i = 1:6;
           s = Sp(i);
           t = Tp(i);
           dx = X(t)-X(s);
           dy = Y(t)-Y(s);
           Sc=sqrt(power(dx,2) +power(dy,2));
           j = 2*s-1 ;
           A1(i,j) = -dx/Sc;
           A1(i,j+1)= -dy/Sc;
   
           j = 2*t-1;
           A1(i,j) = dx/Sc;
           A1(i,j+1) = dy/Sc ; 
       end
       
% matrix for directions
   for i = 1:49;
       k = Spd(i);
       h = Tpd(i);
       deltax = X(h)-X(k);
       deltay = Y(h)-Y(k);
       ss = sqrt(deltax^2+deltay^2);
       j2 = 2*k-1;
       A2(i,j2) = deltay/(ss^2)
       A2(i,j2+1)= -deltax/(ss^2)
       
       j2=2*h-1;
       A2(i,j2) = -deltay/(ss^2)
       A2(i,j2+1)= deltax/(ss^2)
    
   end  
  
   DRdeg = degtorad(DR * (360/400));
    for i =1:11; j=1;
       B(i,j) =  atan((Y(2,1)-Y(1,1))/(X(2,1)-X(1,1)));
       i= 12:22; j=2;
       B(i,j) =  atan((Y(1,1)-Y(2,1))/(X(1,1)-X(2,1)));
       i = 23:33; j=3;
       B(i,j) =  atan((Y(3,1)-Y(1,1))/(X(3,1)-X(1,1)));
       i= 34:44;  j=4;
       B(i,j) =  atan((Y(4,1)-Y(1,1))/(X(4,1)-X(1,1)));
       i = 45:49; j=5;
       B(i,j) =  atan((Y(5,1)-Y(1,1))/(X(5,1)-X(1,1)));
        
    end
    
    A = [A1 zeros(6,21); A2 B]
%     N = A'*A;
%     inv(N)
% for a =1; j=1:2:24;
%     G(a,j)=0;
%      a =2; j=2:2:24; 
%       G(a,j) = 1;
%        a = 3; j=1:2;24;
% %       G(a,j) = Y(i);
%       a=3; j=2:2:24;
%       G(a,j)= -X(i)  
%       
% end
% P = [1 2 0; 1 11 3.92813; 1 12 26.65768; 1 3 28.14169; 1 7 29.46106; 1 4 42.51533; 1 5 79.96743; 1 6  125.68087; ...]
%  1 8 272.63544; 1 9 350.12485; 1 10 379.70302; 2 1 0; 2 8 28.95076; 2 9 114.46143; 2 10 170.86868; 2 11 205.16361; ...
%  2 12 233.14019; 2 7 236.9087; 2 3 239.0641; 2 4 252.268; 2 5 306.12031; 2 6 365.52605; 3 1 0; 3 8 7.24369; 3 2 10.92332;...
%  3 9 35.65047; 3 10 71.45038; 3 11 119.97324; 3 12 195.22762; 3 7 204.68251; 3 4 243.91905; 3 5 347.23966; ...
%  3 6 383.60808; 4 1 0; 4 8 3.71152; 4 2 9.7539; 4 9 24.10203; 4 3 29.5464; 4 10 45.87412; 4 11 66.81895; ...
%  4 7 86.84505; 4 12 97.16398; 4 5 370.06912; 4 6 388.29153; 5 1 0; 5 6 380.49429; 5 4 132.61652; 5 3 95.41328; ...
%  5 2 26.1527];
%  Spd = P(:,1);
%  Tpd = P(:,2);
%  DR = P(:,3);
% STW = [1; 2; 3; 4; 5; 6; 7; 8; 9; 10; 11; 12];
% % X = [100.103; 111.601; 122.181; 116.692; 87.661; 86.855; 129.551; 102.448; 126.676; 143.977; 145.687; 133.61];
% % Y = [100.011; 109.003; 144.013; 168.014; 134.199; 106.21; 161.867; 90.167; 96.814; 115.772; 140.429; 163.079];
% Sp = [1; 1; 1; 2; 2; 3];
% Tp = [2; 3; 4; 3; 4; 4];
% DIST = [14.5967; 49.2302; 69.9973; 36.5734; 59.2302; 24.6209];
DRrad = degtorad(DR * (360/400));

% Dir=[0.006004725
% 0.006004761
% 0.006005482
% 0.006002594
% 0.006004464
% 0.006008522
% 0.00600353
% -0.060042837
% 0.006004595
% 0.0060013
% 0.006002864
% -0.000885404
% -0.000895906
% -0.000886103
% -0.000885849
% -0.000893817
% -0.000890511
% -0.00088666
% -0.000891942
% -0.000899945
% -0.000890824
% 0.008906963
% -0.002637813
% -0.002628415
% -0.002627926
% -0.002636812
% -0.002643222
% -0.002639072
% -0.002638145
% -0.002646034
% -0.00263777
% -0.002636193
% 0.026371401
% -0.002419699
% -0.002418774
% -0.002418716
% -0.002414115
% -0.002410034
% -0.002415644
% -0.002415444
% -0.002410641
% -0.002413796
% -0.002422643
% 0.024159505
% -0.014280394
% 0.05714302
% -0.014286201
% -0.014289764
% -0.014286661
% ];


   